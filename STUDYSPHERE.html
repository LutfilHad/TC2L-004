<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Sphere</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <a href="/STUDYSPHERE.html" id="navbar__logo">Study Sphere</a>
            <div class="navbar__toggle" id="mobile-menu" aria-label="Toggle navigation menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <ul class="navbar__menu">
                <li class="navbar__item">
                    <a href="/schedule.html" class="navbar__link">Schedule</a>
                </li>
                <li class="navbar__item">
                    <a href="/progress.html" class="navbar__link">Progress</a>
                </li>
                <li class="navbar__btn">
                    <a href="/" class="button">Login</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="hero">
        <h1>Welcome to Study Sphere</h1>
        <p>Your personalized study assistant. Track your progress, organize your schedule, and reach your goals.</p>
        <a href="/signup.html" class="button">Get Started</a>
    </div>

    <div class="main__img--container">
        <img src="image/undraw_scrum_board_re_wk7v.svg" alt="pic" id="main__img">
    </div>

    <section class="features">
        <div class="feature">
            <h2>Personal Dashboard</h2>
            <p>Get an overview of your tasks, upcoming events, and study progress.</p>
        </div>
        <div class="feature">
            <h2>Schedule Management</h2>
            <p>Organize your study sessions and stay on top of your schedule.</p>
        </div>
        <div class="feature">
            <h2>Progress Tracking</h2>
            <p>Monitor your learning progress and achieve your goals.</p>
        </div>
    </section>

    <section class="submit-results">
        <h2>Submit Your Study Results</h2>
        <form id="resultsForm" method="POST" action="/add_results">
            <label for="subject1">Subject 1:</label>
            <input type="text" id="subject1" name="subject1" placeholder="Enter subject">
            <label for="grade1">Grade 1:</label>
            <input type="text" id="grade1" name="grade1" placeholder="Enter grade">
            <br>
            <label for="subject2">Subject 2:</label>
            <input type="text" id="subject2" name="subject2" placeholder="Enter subject">
            <label for="grade2">Grade 2:</label>
            <input type="text" id="grade2" name="grade2" placeholder="Enter grade">
            <br>
            <button type="submit">Submit</button>
        </form>
    </section>

    <section class="generate-schedule">
        <h2>Your Study Schedule</h2>
        <button onclick="fetchSchedule()">Generate Schedule</button>
        <ul id="scheduleList"></ul>
    </section>

    <footer>
        <p>&copy; 2024 Study Sphere. All rights reserved.</p>
        <ul class="footer__links">
            <li><a href="/contact.html">Contact</a></li>
            <li><a href="/about.html">About Us</a></li>
            <li><a href="/privacy.html">Privacy Policy</a></li>
        </ul>
    </footer>

    <script>
        // Handle the form submission to submit results
        document.getElementById('resultsForm').onsubmit = async function(event) {
            event.preventDefault();  // Prevent the default form submission behavior

            let formData = new FormData(document.getElementById('resultsForm'));

            const response = await fetch('/add_results', {
                method: 'POST',
                body: formData
            });

            if (response.ok) {
                alert('Results submitted successfully');
            } else {
                alert('Error submitting results');
            }
        };

        // Fetch the generated schedule and display it
        async function fetchSchedule() {
            const response = await fetch('/generate_schedule');
            const schedule = await response.json();

            let scheduleList = document.getElementById('scheduleList');
            scheduleList.innerHTML = '';  // Clear any previous schedule

            schedule.forEach(item => {
                let li = document.createElement('li');
                li.textContent = item;
                scheduleList.appendChild(li);
            });
        }
    </script>
</body>
</html>
